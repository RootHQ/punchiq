{"ast":null,"code":"import { ChangeDetectorRef } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { TimeOffService } from '../../services/time-off.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthService } from '../../services/auth.service';\nimport { jwtDecode } from 'jwt-decode';\nimport { MatTable } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"../../services/time-off.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/table\";\nimport * as i10 from \"@angular/material/input\";\nimport * as i11 from \"@angular/material/form-field\";\nimport * as i12 from \"@angular/material/select\";\nimport * as i13 from \"@angular/material/core\";\nimport * as i14 from \"@angular/material/icon\";\nimport * as i15 from \"@angular/material/datepicker\";\nfunction TimeOffRequestComponent_ng_container_11_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(col_r3.label);\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r7[col_r3.key], \"yyyy-MM-dd\"), \" \");\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.getPayCodeLabel(element_r7[col_r3.key]), \" \");\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r12.getLabelForLength(element_r7[col_r3.key]), \" \");\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r7[col_r3.key], \" \");\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0)(1, 22);\n    i0.ɵɵtemplate(2, TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_ng_container_2_Template, 3, 4, \"ng-container\", 24);\n    i0.ɵɵtemplate(3, TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_ng_container_3_Template, 2, 1, \"ng-container\", 24);\n    i0.ɵɵtemplate(4, TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_ng_container_4_Template, 2, 1, \"ng-container\", 24);\n    i0.ɵɵtemplate(5, TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_ng_container_5_Template, 2, 1, \"ng-container\", 25);\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const col_r3 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", col_r3.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"date\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"payCode\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"length\");\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_ng_container_1_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const element_r7 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r28.removeRow(element_r7.id));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"field-error\": a0\n  };\n};\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-form-field\", 28)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_2_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r34);\n      const element_r7 = i0.ɵɵnextContext(2).$implicit;\n      const col_r3 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(element_r7[col_r3.key] = $event);\n    })(\"dateChange\", function TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_2_Template_input_dateChange_3_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const _r31 = i0.ɵɵreference(6);\n      const element_r7 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r36 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r36.onDateSelected(_r31, element_r7));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"mat-datepicker-toggle\", 30)(5, \"mat-datepicker\", null, 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r31 = i0.ɵɵreference(6);\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, element_r7.errors == null ? null : element_r7.errors.date));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matDatepicker\", _r31)(\"ngModel\", element_r7[col_r3.key]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", _r31);\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_3_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Pay Code is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-form-field\", 28)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Pay Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-select\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_3_Template_mat_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const element_r7 = i0.ɵɵnextContext(2).$implicit;\n      const col_r3 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(element_r7[col_r3.key] = $event);\n    });\n    i0.ɵɵelementStart(4, \"mat-option\", 33);\n    i0.ɵɵtext(5, \"Vacation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-option\", 33);\n    i0.ɵɵtext(7, \"Non-Paid\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_3_mat_error_8_Template, 2, 0, \"mat-error\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, element_r7.errors == null ? null : element_r7.errors.payCode));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", element_r7[col_r3.key]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", element_r7.errors == null ? null : element_r7.errors.payCode);\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-form-field\", 28)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Length\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-select\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_4_Template_mat_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const element_r7 = i0.ɵɵnextContext(2).$implicit;\n      const col_r3 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(element_r7[col_r3.key] = $event);\n    });\n    i0.ɵɵelementStart(4, \"mat-option\", 34);\n    i0.ɵɵtext(5, \"4 hours\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-option\", 35);\n    i0.ɵɵtext(7, \"8 hours\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c0, element_r7.errors == null ? null : element_r7.errors.length));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", element_r7[col_r3.key]);\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_5_mat_error_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Notes must be at least 5 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-form-field\", 28)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Notes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 36, 37);\n    i0.ɵɵlistener(\"ngModelChange\", function TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_5_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r57);\n      const element_r7 = i0.ɵɵnextContext(2).$implicit;\n      const col_r3 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(element_r7[col_r3.key] = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_5_mat_error_5_Template, 2, 0, \"mat-error\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r53 = i0.ɵɵreference(4);\n    const element_r7 = i0.ɵɵnextContext(2).$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c0, element_r7.errors == null ? null : element_r7.errors.notes));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", element_r7[col_r3.key]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r53.invalid && _r53.touched);\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_ng_container_1_Template, 4, 0, \"ng-container\", 24);\n    i0.ɵɵtemplate(2, TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_2_Template, 7, 6, \"mat-form-field\", 26);\n    i0.ɵɵtemplate(3, TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_3_Template, 9, 7, \"mat-form-field\", 26);\n    i0.ɵɵtemplate(4, TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_4_Template, 8, 4, \"mat-form-field\", 26);\n    i0.ɵɵtemplate(5, TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_mat_form_field_5_Template, 6, 5, \"mat-form-field\", 26);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"isEdit\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"date\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"payCode\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"length\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"notes\");\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵelementContainerStart(1, 22);\n    i0.ɵɵtemplate(2, TimeOffRequestComponent_ng_container_11_td_2_ng_container_2_Template, 6, 4, \"ng-container\", 23);\n    i0.ɵɵtemplate(3, TimeOffRequestComponent_ng_container_11_td_2_ng_container_3_Template, 6, 5, \"ng-container\", 23);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r7 = ctx.$implicit;\n    const col_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", col_r3.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !element_r7.isEdit);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r7.isEdit);\n  }\n}\nfunction TimeOffRequestComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 17);\n    i0.ɵɵtemplate(1, TimeOffRequestComponent_ng_container_11_th_1_Template, 2, 1, \"th\", 18);\n    i0.ɵɵtemplate(2, TimeOffRequestComponent_ng_container_11_td_2_Template, 4, 3, \"td\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const col_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"matColumnDef\", col_r3.key);\n  }\n}\nfunction TimeOffRequestComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 38);\n  }\n}\nfunction TimeOffRequestComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 39);\n  }\n}\nconst _c1 = function (a1) {\n  return [\"/\", a1, \"punch\"];\n};\nconst COLUMNS_SCHEMA = [{\n  key: 'date',\n  label: 'Date',\n  type: 'date'\n}, {\n  key: 'payCode',\n  label: 'Pay Code',\n  type: 'payCode'\n}, {\n  key: 'length',\n  label: 'Length',\n  type: 'length'\n}, {\n  key: 'notes',\n  label: 'Notes',\n  type: 'notes'\n}, {\n  key: 'isEdit',\n  label: '',\n  type: 'isEdit'\n}];\nlet TimeOffRequestComponent = /*#__PURE__*/(() => {\n  class TimeOffRequestComponent {\n    authService;\n    route;\n    router;\n    dialog;\n    snackBar;\n    timeOffService;\n    cdr;\n    displayedColumns = COLUMNS_SCHEMA.map(c => c.key);\n    columnsSchema = COLUMNS_SCHEMA;\n    dataSource = [];\n    companyId = '';\n    employeeId = '';\n    currentEditingElement = null;\n    datePickerRefs = {};\n    pickerRefs = [];\n    table;\n    constructor(authService, route, router, dialog, snackBar, timeOffService, cdr) {\n      this.authService = authService;\n      this.route = route;\n      this.router = router;\n      this.dialog = dialog;\n      this.snackBar = snackBar;\n      this.timeOffService = timeOffService;\n      this.cdr = cdr;\n    }\n    ngOnInit() {\n      this.route.paramMap.subscribe(params => {\n        this.companyId = params.get('companyId') || '';\n      });\n      this.route.queryParams.subscribe(() => {\n        const token = this.authService.getToken();\n        if (token) {\n          const payload = jwtDecode(token);\n          const exp = payload.exp * 1000;\n          const currentTime = Date.now();\n          const minutesLeft = (exp - currentTime) / (1000 * 60);\n          if (minutesLeft > 0 && minutesLeft <= 5) {\n            // this.dialog.open(SessionExpirationDialogComponent, {\n            //   data: { minutes: Math.floor(minutesLeft) },\n            //  width: '400px'\n            // });\n          }\n          if (currentTime >= exp) {\n            this.authService.logout();\n            this.router.navigate(['/' + this.companyId + '/login'], {\n              queryParams: {\n                expired: true\n              }\n            });\n            return;\n          }\n          this.employeeId = payload.sub || '';\n        } else {\n          this.authService.logout();\n          this.router.navigate(['/' + this.companyId + '/login'], {\n            queryParams: {\n              expired: true\n            }\n          });\n        }\n      });\n    }\n    addRow() {\n      const newRow = {\n        id: this.generateId(),\n        isEdit: true,\n        date: new Date(),\n        payCode: 1,\n        length: 4,\n        notes: ''\n      };\n      // this.dataSource.push(newRow);\n      this.dataSource = [...this.dataSource];\n    }\n    generateId() {\n      return Math.floor(Math.random() * 1000000);\n    }\n    saveRow(row) {\n      row.isEdit = false;\n    }\n    removeRow(id) {\n      const index = this.dataSource.findIndex(row => row.id === id);\n      if (index >= 0) {\n        this.dataSource.splice(index, 1);\n        this.pickerRefs.splice(index, 1);\n      }\n    }\n    submit() {\n      let isValid = true;\n      this.dataSource.forEach(row => {\n        row.errors = {};\n        if (!row.date) {\n          row.errors.date = true;\n          isValid = false;\n        }\n        if (!row.payCode) {\n          row.errors.payCode = true;\n          isValid = false;\n        }\n        if (!row.length) {\n          row.errors.length = true;\n          isValid = false;\n        }\n        if (!row.notes || row.notes.trim().length < 5) {\n          row.errors.notes = true;\n          isValid = false;\n        }\n        row.isEdit = true;\n      });\n      if (!isValid) {\n        console.warn('Invalid data, please check the highlighted fields.');\n        this.showSuccessMessage('Please, complete all required fields.', 'error');\n        this.cdr.detectChanges();\n        return;\n      }\n      const timeOffRequests = this.dataSource.map(row => ({\n        date: row.date.toISOString().split('T')[0],\n        payCode: row.payCode,\n        length: row.length,\n        notes: row.notes\n      }));\n      const requestData = {\n        employeeId: this.employeeId,\n        companyId: this.companyId,\n        timeOffRequests: timeOffRequests\n      };\n      if (!requestData.timeOffRequests || requestData.timeOffRequests.length === 0) {\n        console.warn('No time-off requests to submit.');\n        this.showSuccessMessage('You don’t have any valid time-off requests to submit.', 'error');\n        return;\n      }\n      this.timeOffService.sendRequest(requestData).subscribe({\n        next: response => {\n          console.log('Time off requests submitted successfully:', response);\n          this.showSuccessMessage('Time off requests submitted successfully.', 'success');\n          this.dataSource = [];\n          this.cdr.detectChanges();\n        },\n        error: error => {\n          console.error('Error submitting time off requests:', error);\n          this.showSuccessMessage('Error submitting time off requests, contact administrator.', 'error');\n        }\n      });\n    }\n    onLogout() {\n      this.authService.logout();\n      this.router.navigate(['/' + this.companyId + '/login']);\n    }\n    openPicker(picker, element) {\n      this.currentEditingElement = element;\n      picker.open();\n    }\n    onDateClosed(event) {\n      console.log('Calendario cerrado');\n      setTimeout(() => event.close(), 0);\n    }\n    registerPickerRef(id, picker) {\n      this.datePickerRefs[id] = picker;\n    }\n    onDateSelected(picker, element) {\n      picker.close();\n      element.isEdit = false;\n      console.log('Date :', element.date);\n      element.date = new Date(element.date);\n      this.cdr.detectChanges();\n      element.isEdit = true;\n    }\n    getPayCodeLabel(value) {\n      const map = {\n        '1': 'Vacation',\n        '2': 'Non-Paid'\n      };\n      return map[String(value)] || String(value);\n    }\n    getLabelForLength(value) {\n      const map = {\n        '4': '4 hours',\n        '8': '8 hours'\n      };\n      return map[String(value)] || String(value);\n    }\n    showSuccessMessage(message, type = 'success') {\n      this.snackBar.open(message, '', {\n        duration: 3000,\n        panelClass: [type === 'success' ? 'success-snackbar' : 'error-snackbar'],\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom'\n      });\n    }\n    static ɵfac = function TimeOffRequestComponent_Factory(t) {\n      return new (t || TimeOffRequestComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog), i0.ɵɵdirectiveInject(i4.MatSnackBar), i0.ɵɵdirectiveInject(i5.TimeOffService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TimeOffRequestComponent,\n      selectors: [[\"app-time-off-request\"]],\n      viewQuery: function TimeOffRequestComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(MatTable, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n        }\n      },\n      decls: 30,\n      vars: 7,\n      consts: [[1, \"header\"], [1, \"logo\"], [1, \"header-link\", 3, \"routerLink\"], [1, \"login-container\"], [1, \"login-box\"], [1, \"description\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", \"full-width-table\", 3, \"dataSource\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [1, \"container\"], [1, \"table-header\"], [\"type\", \"button\", 1, \"add\", 3, \"click\"], [1, \"actions\"], [\"type\", \"button\", 1, \"btn\", \"btn-login\", \"topSpace\", \"punchDays\", 3, \"click\"], [1, \"divider\"], [1, \"btn\", \"btn-login\", \"topSpace\", \"Logoutbtn\", 3, \"click\"], [3, \"matColumnDef\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [3, \"ngSwitch\"], [4, \"ngIf\"], [4, \"ngSwitchCase\"], [4, \"ngSwitchDefault\"], [\"appearance\", \"outline\", 3, \"ngClass\", 4, \"ngSwitchCase\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"appearance\", \"outline\", 3, \"ngClass\"], [\"matInput\", \"\", 3, \"matDatepicker\", \"ngModel\", \"ngModelChange\", \"dateChange\"], [\"matSuffix\", \"\", 3, \"for\"], [\"picker\", \"\"], [3, \"ngModel\", \"ngModelChange\"], [3, \"value\"], [\"value\", \"4 hours\"], [\"value\", \"8 hours\"], [\"matInput\", \"\", \"required\", \"\", \"minlength\", \"5\", 3, \"ngModel\", \"ngModelChange\"], [\"notesInput\", \"ngModel\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function TimeOffRequestComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"div\", 1);\n          i0.ɵɵelementStart(2, \"a\", 2);\n          i0.ɵɵtext(3, \"Home\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"h2\");\n          i0.ɵɵtext(7, \"Time Off Request\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"p\", 5);\n          i0.ɵɵtext(9, \"Small text \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"table\", 6);\n          i0.ɵɵtemplate(11, TimeOffRequestComponent_ng_container_11_Template, 3, 1, \"ng-container\", 7);\n          i0.ɵɵtemplate(12, TimeOffRequestComponent_tr_12_Template, 1, 0, \"tr\", 8);\n          i0.ɵɵtemplate(13, TimeOffRequestComponent_tr_13_Template, 1, 0, \"tr\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 10)(15, \"article\", 11)(16, \"a\", 12);\n          i0.ɵɵlistener(\"click\", function TimeOffRequestComponent_Template_a_click_16_listener() {\n            return ctx.addRow();\n          });\n          i0.ɵɵtext(17, \"+ Add New Line\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(18, \"br\")(19, \"br\");\n          i0.ɵɵelementStart(20, \"div\", 13)(21, \"button\", 14);\n          i0.ɵɵlistener(\"click\", function TimeOffRequestComponent_Template_button_click_21_listener() {\n            return ctx.submit();\n          });\n          i0.ɵɵtext(22, \"Submit\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"div\", 15);\n          i0.ɵɵtext(24, \"OR\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function TimeOffRequestComponent_Template_button_click_25_listener() {\n            return ctx.onLogout();\n          });\n          i0.ɵɵtext(26, \"Logout\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(27, \"br\")(28, \"br\")(29, \"br\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c1, ctx.companyId));\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.columnsSchema);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        }\n      },\n      dependencies: [i6.NgClass, i6.NgForOf, i6.NgIf, i6.NgSwitch, i6.NgSwitchCase, i6.NgSwitchDefault, i2.RouterLink, i7.DefaultValueAccessor, i7.NgControlStatus, i7.RequiredValidator, i7.MinLengthValidator, i7.NgModel, i8.MatIconButton, i9.MatTable, i9.MatHeaderCellDef, i9.MatHeaderRowDef, i9.MatColumnDef, i9.MatCellDef, i9.MatRowDef, i9.MatHeaderCell, i9.MatCell, i9.MatHeaderRow, i9.MatRow, i10.MatInput, i11.MatFormField, i11.MatLabel, i11.MatError, i11.MatSuffix, i12.MatSelect, i13.MatOption, i14.MatIcon, i15.MatDatepicker, i15.MatDatepickerInput, i15.MatDatepickerToggle, i6.DatePipe],\n      styles: [\".punch-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#1c1c1c;height:100vh;font-family:Segoe UI,sans-serif}.punch-box[_ngcontent-%COMP%]{background-color:#2b2b2b;padding:40px;border-radius:12px;text-align:center;width:100%;max-width:400px;color:#fff}.description[_ngcontent-%COMP%]{font-size:.9rem;color:#ccc;margin-bottom:20px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-align:left;margin:10px 0 5px;font-weight:700;color:#ddd}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:6px;border:none;margin-bottom:15px;background-color:#3a3a3a;color:#fff}.btn-punch[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#4caf50;border:none;border-radius:6px;font-weight:700;color:#fff;cursor:pointer;font-size:1rem}.separator[_ngcontent-%COMP%]{margin:20px 0;color:#999;font-size:.9rem}.btn-logout[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#888;border:none;border-radius:6px;color:#fff;font-weight:700;cursor:pointer;margin-bottom:10px}.missed-punch[_ngcontent-%COMP%]{display:block;color:#ccc;font-size:.85rem;text-decoration:underline;cursor:pointer}.description[_ngcontent-%COMP%]{font-size:12px;color:#dfdfdf;margin-bottom:20px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-align:left;margin:20px 0 5px;color:#b2b2b2;font-weight:500;font-size:12px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:95%;padding:10px;border-radius:6px;border:none;margin-bottom:10px;background-color:#323232;color:#fff}.Logoutbtn[_ngcontent-%COMP%]{margin-top:20px;background-color:#7f7f7f}.punchDays[_ngcontent-%COMP%]{background-color:#3bb95c}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#fff;height:19vh;justify-content:center}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:\\\"\\\";flex:1;border-bottom:1px solid white;margin:0 1em}.missed-punch[_ngcontent-%COMP%]{color:#b2b2b2;text-align:center;text-decoration:underline;cursor:pointer}.punchOutbtn[_ngcontent-%COMP%]{background-color:#c83d3d}.breackbtn[_ngcontent-%COMP%]{background-color:#42abcd}.container[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif}.table-wrapper[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;border:1px solid #ddd;margin-bottom:20px;border-radius:6px}.styled-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9em;min-width:600px;box-shadow:0 0 10px #0000000d}.styled-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#009879;color:#fff;text-align:left}.styled-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .styled-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #ddd}.styled-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}.login-box[_ngcontent-%COMP%]{max-width:800px!important}.actions[_ngcontent-%COMP%]{width:328px;align-items:center;text-align:center;margin:auto}.add[_ngcontent-%COMP%]{float:right}.full-width-table[_ngcontent-%COMP%]{width:100%;margin-top:1rem;overflow-x:auto}.add[_ngcontent-%COMP%]{cursor:pointer}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.mat-form-field[_ngcontent-%COMP%]{width:100%;min-width:150px;margin-right:8px}.btn-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;margin-bottom:.5rem}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:8px}mat-checkbox[_ngcontent-%COMP%]{margin-left:8px}@media (max-width: 768px){.table-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.btn-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.edit-row[_ngcontent-%COMP%]{background-color:#f0f8ff!important;color:#000!important}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.table-header[_ngcontent-%COMP%]{float:right}.full-width-table[_ngcontent-%COMP%]{width:100%;border-spacing:0}.btn-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-right:8px}.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;background-color:#f4f4f4;color:#333}.mat-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}table[_ngcontent-%COMP%]{margin-top:16px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#333;font-weight:700;text-align:center}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px;border-bottom:1px solid #ddd}.mat-mdc-table[_ngcontent-%COMP%]{table-layout:fixed}.btn-login[_ngcontent-%COMP%]:hover{opacity:.9}.cdk-column-isEdit[_ngcontent-%COMP%], .mat-column-isEdit[_ngcontent-%COMP%]{width:50px;text-align:center;padding-right:20px!important}.cdk-column-notes[_ngcontent-%COMP%], .mat-column-notes[_ngcontent-%COMP%]{padding-right:20px;width:40%}.mat-mdc-cell[_ngcontent-%COMP%]{padding-top:10px!important}.cdk-column-date[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%]{width:20%}.mat-form-field-invalid[_ngcontent-%COMP%], .mat-mdc-form-field-outline[_ngcontent-%COMP%]{border-color:red!important}.field-error[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%], .field-error[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%]{color:red;border-color:red!important}.field-error[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{border-color:red!important}\"]\n    });\n  }\n  return TimeOffRequestComponent;\n})();\nexport { TimeOffRequestComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}